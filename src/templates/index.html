{% extends "base.html" %}

{% block main %}
<header>
  <h1>{{ blog.name }}</h1>
</header>

<h3>Recent articles</h3>
<ul>
  {% for art in articles %}
  <li>{{ art.ctime[:10] }}
    <a href="{{art.id}}.html">{{art.title}}</a></li>
  {% endfor %}
</ul>

<h3>Archives</h3>
<div id="archives">
  <a href="title-index.html">TitleIndex</a>
  <a href="years.html">Years</a>
  <a href="#" id="random-btn">Random</a>
</div>
{% endblock %}

{% block footer %}
<div id="footer">
  <p id="footer-body">
    Author: {{ blog.author }}
    | LICENSE <a href="LICENSE.txt">CC0-1.0</a>
    | RSS <a href="atom.xml">atom.xml</a>
  </p>
</div>
{% endblock %}

{% block script %}
<script>
function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min) + min);
}
function randomGo() {
  const i = getRandomInt(0, {{ files|length }});
  location.href = {{ files[i] }};
}
querySelector('#random-btn').addEventListener("click", randomGo, false);
</script>
{% endblock %}